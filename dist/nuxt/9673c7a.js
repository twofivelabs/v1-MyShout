(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{1119:function(e,t,n){"use strict";n.r(t);var r=n(738),o=n(790),l=n(819),c=n(175),d=n(0),h=(n(16),n(5)),m=n(773),f=n(833),v=n.n(f),x=(n(834),Object(h.b)({name:"OnboardingPage4.1",layout:"onboarding",middleware:"authenticated",components:{VuePhoneNumberInput:v.a},setup:function(){var e=Object(h.l)(),t=e.$config,n=e.$notify,r=e.$helper,o=e.i18n,l=Object(h.q)().dispatch,c=Object(h.p)(),f=Object(h.i)(!1),v=m.a,x=Object(h.i)(!1),y=Object(h.i)(),form=Object(h.i)({phone:"",phoneNumber:null,phoneNumberFormatted:null,showOtpInput:!1,otpProvided:null}),w=function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(form.value.phone){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,l("user/search",{field:"phone",operator:"==",term:r.formatPhone(form.value.phone,"db"),limit:3});case 4:if(!(e.sent.length>0)){e.next=8;break}return n.show({text:o.t("notify.phone_in_use"),color:"error"}),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.value=!0,e.next=3,y.value.validate();case 3:return x.value=e.sent,e.next=6,w();case 6:if(e.sent){e.next=10;break}return x.value=!1,console.log("Validate phone"),e.abrupt("return");case 10:if(!x.value){e.next=16;break}return e.next=13,l("user/updateField",{phone:r.formatPhone(form.value.phone,"db")});case 13:return n.show({text:o.t("notify.success"),color:"green"}),e.next=16,c.push("/onboarding/5");case 16:f.value=!1;case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.n)({title:"".concat(t.appTitle),meta:[{hid:"description",name:"description",content:"Discover ".concat(t.appTitle)}]}),{loading:f,rules:v,isFormValid:x,form:form,formEl:y,updatePhoneNumber:function(e){form.value.phoneNumberFormatted=e.formattedNumber,form.value.phone=e.formattedNumber},validate:_}},head:{}})),y=x,w=n(35),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(o.a,{staticClass:"ma-0 pa-0 lightgray",attrs:{height:"100vh",fluid:""}},[n("div",{staticClass:"d-flex flex-column justify-space-between align-center",staticStyle:{height:"100vh"}},[n("div",{staticClass:"d-flex flex-column justify-space-around align-center",staticStyle:{width:"100vw",height:"23vh"}},[n("OnboardingCardheader",{staticClass:"gray--text mx-14",attrs:{h1:e.$t("onboarding.add_phone_number_heading")}})],1),e._v(" "),n("div",{directives:[{name:"anime",rawName:"v-anime",value:{translateY:[200,0],opacity:[0,1],easing:"easeInOutQuad",duration:600,delay:600},expression:"{\n              translateY: [200, 0],\n              opacity: [0, 1],\n              easing: 'easeInOutQuad',\n              duration: 600,\n              delay:600\n            }"}],staticClass:"white pa-10 rounded-t-xl rounded-b-0 elevation-13",staticStyle:{width:"100vw","max-width":"700px",height:"77vh"}},[n("div",[n("h5",{staticClass:"text-h5 text-center mb-6"},[e._v(e._s(e.$t("onboarding.add_phone_number_sub")))]),e._v(" "),n(l.a,{ref:"formEl",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[n("VuePhoneNumberInput",{staticClass:"my-6",attrs:{required:"",translations:{countrySelectorLabel:""}},on:{update:function(t){return e.updatePhoneNumber(t)}},model:{value:e.form.phoneNumberFormatted,callback:function(t){e.$set(e.form,"phoneNumberFormatted",t)},expression:"form.phoneNumberFormatted"}}),e._v(" "),n("div",{staticClass:"text-center mt-15"},[n(r.a,{staticClass:"white--text",attrs:{loading:e.loading,color:"primary",fab:"",dark:"","x-large":"",type:"submit"}},[n(c.a,[e._v("mdi-arrow-right")])],1)],1)],1)],1)])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{OnboardingCardheader:n(814).default})},773:function(e,t,n){"use strict";n(29);t.a={email:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"Password must be at least 6 characters"}],phone:[function(e){return!!e||"Phone is required"},function(e){return e&&e.length>=10||"Phone must be valid"}],message:[function(e){return!!e||"Message is required"}],username:[function(e){return!!e||"Username is required"},function(e){return e&&e.length>2||"Username must be a least 3 characters"}],name:[function(e){return!!e||"Is required"}],title:[function(e){return!!e||"Is required"}]}},814:function(e,t,n){"use strict";n.r(t);var r=n(762),o=n(761),l=n(175),c=n(753),d=n(5),h=Object(d.b)({name:"OnboardingCardheader",props:{h1:{type:String,default:function(){return""}},h2:{type:String,default:function(){return""}},prependIcon:{type:String,default:null}},setup:function(){return{}}}),m=n(35),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(r.a,{directives:[{name:"anime",rawName:"v-anime",value:{translateY:[100,0],duration:1200,opacity:[0,100],easing:"easeInOutQuad"},expression:"{\n      translateY: [100, 0],\n      duration: 1200,\n      opacity: [0, 100],\n      easing: 'easeInOutQuad'\n    }"}],staticClass:"rounded-t-xl",staticStyle:{"box-shadow":"none !important"},attrs:{color:"transparent",height:""}},[n(c.a,{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[n(o.b,{staticClass:"text-center"},[e.h1?n("h1",{staticClass:"display-3 font-weight-bold mb-1 gray--text"},[e.prependIcon?n(l.a,[e._v("\n          "+e._s(e.prependIcon)+"\n        ")]):e._e(),e._v("\n        "+e._s(e.h1)+"\n      ")],1):e._e(),e._v(" "),e.h2?n("h2",{staticClass:"text-h3 gray--text"},[e._v(e._s(e.h2))]):e._e()])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);