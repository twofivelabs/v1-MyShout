(window.webpackJsonp=window.webpackJsonp||[]).push([[184,71,97,99,136],{1135:function(t,e,n){"use strict";n.r(e);var r=n(878),o=n(906),c=n(695),l=n(718),f=n(753),d=n(158),v=n(257),m=n(159),h=n(258),x=n(100),_=n(261),O=n(138),y=n(717),j=n(724),k=n(848),w=n(808),P=n(3),$=Object(P.b)({name:"SettingsPage",middleware:"authenticated",setup:function(){return{loading:Object(P.i)(!1),users:Object(P.i)([])}}}),C=n(43),component=Object(C.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n(r.a,{staticClass:"mobileNotch appBarHeight",attrs:{color:"white",app:"",fixed:"",top:""}},[n(o.a,[n(c.a,{attrs:{to:"/profile",text:"",color:"transparent"}},[n(d.a,{staticClass:"pr-2 py-3 pl-2",attrs:{color:"myshoutDarkGrey"}},[t._v("\n          mdi-arrow-left\n        ")])],1)],1),t._v(" "),n(w.b,{staticClass:"pl-0"},[n("div",{staticClass:"d-flex align-center"},[n("ElementH2",{attrs:{align:"left",text:"Settings"}})],1)]),t._v(" "),n(k.a)],1),t._v(" "),n(f.a,{staticClass:"px-0 pt-4 mt-8 pb-12 mobileNotch"},[t.loading?n(y.a,[n(l.a,[n(j.a,{staticClass:"mb-6",attrs:{width:"100%","max-height":"50",type:"text"}}),t._v(" "),n(j.a,{staticClass:"mb-6",attrs:{width:"100%","max-height":"50",type:"text"}}),t._v(" "),n(j.a,{staticClass:"mb-6",attrs:{width:"100%","max-height":"50",type:"text"}}),t._v(" "),n(j.a,{staticClass:"mb-6",attrs:{width:"100%","max-height":"50",type:"text"}})],1)],1):t._e(),t._v(" "),n("div",{staticClass:"d-flex justify-center"},[n("UserDarkmode",{staticClass:"mx-2"})],1),t._v(" "),n(v.a,{staticClass:"myshout",attrs:{"three-line":"",rounded:"",color:"transparent"}},[n(_.a,[n(m.a,[n(O.a,{staticStyle:{"background-color":"var(--v-myshoutOrange-base)"}},[n(d.a,[t._v("mdi-google-maps")])],1),t._v(" "),n(x.a,[n(x.c,[t._v("Location Permissions")]),t._v(" "),n(x.b,[t._v("Sharing your location is critical for emergency contacts to monitor your location.")])],1),t._v(" "),n(h.a,[n("MapLocationtoggle",{staticClass:"mx-2",attrs:{label:""}})],1)],1),t._v(" "),n(m.a,[n(O.a,{staticStyle:{"background-color":"var(--v-myshoutGreen-base)"}},[n(d.a,[t._v("mdi-message-outline")])],1),t._v(" "),n(x.a,[n(x.c,[t._v("Notification Permissions")]),t._v(" "),n(x.b,[t._v("Receive notifications when a friend is in trouble, or a new chat message has been received.")])],1),t._v(" "),n(h.a,[n("NotificationsToggle",{staticClass:"mx-2",attrs:{label:""}})],1)],1)],1)],1),t._v(" "),n(v.a,{staticClass:"myshout",attrs:{rounded:"",color:"transparent"}},[n(_.a,[n(m.a,{on:{click:function(e){return t.$router.push("/page/account-settings")}}},[n(x.a,[n(x.c,[t._v("Account Settings")])],1),t._v(" "),n(h.a,[n(c.a,{attrs:{icon:""}},[n(d.a,{attrs:{color:"grey lighten-1"}},[t._v("mdi-chevron-right")])],1)],1)],1),t._v(" "),n(m.a,{on:{click:function(e){return t.$router.push("/page/about-us")}}},[n(x.a,[n(x.c,[t._v("About Us")])],1),t._v(" "),n(h.a,[n(c.a,{attrs:{icon:""}},[n(d.a,{attrs:{color:"grey lighten-1"}},[t._v("mdi-chevron-right")])],1)],1)],1),t._v(" "),n(m.a,{on:{click:function(e){return t.$router.push("/page/help-center")}}},[n(x.a,[n(x.c,[t._v("Help Center")])],1),t._v(" "),n(h.a,[n(c.a,{attrs:{icon:""}},[n(d.a,{attrs:{color:"grey lighten-1"}},[t._v("mdi-chevron-right")])],1)],1)],1),t._v(" "),n(m.a,{on:{click:function(e){return t.$router.push("/page/faq")}}},[n(x.a,[n(x.c,[t._v("Frequent Questions")])],1),t._v(" "),n(h.a,[n(c.a,{attrs:{icon:""}},[n(d.a,{attrs:{color:"grey lighten-1"}},[t._v("mdi-chevron-right")])],1)],1)],1),t._v(" "),n(m.a,{on:{click:function(e){return t.$router.push("/page/contact")}}},[n(x.a,[n(x.c,[t._v("Feedback")])],1),t._v(" "),n(h.a,[n(c.a,{attrs:{icon:""}},[n(d.a,{attrs:{color:"grey lighten-1"}},[t._v("mdi-chevron-right")])],1)],1)],1),t._v(" "),n(m.a,{on:{click:function(e){return t.$router.push("/page/privacy")}}},[n(x.a,[n(x.c,[t._v("Privacy & Terms")])],1),t._v(" "),n(h.a,[n(c.a,{attrs:{icon:""}},[n(d.a,{attrs:{color:"grey lighten-1"}},[t._v("mdi-chevron-right")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ElementH2:n(750).default,UserDarkmode:n(984).default,MapLocationtoggle:n(985).default,NotificationsToggle:n(986).default})},750:function(t,e,n){"use strict";n.r(e);var r=n(158),o={name:"ElementH2",props:{text:{type:String,default:""},align:{type:String,default:"center"},prependIcon:{type:String,default:null}}},c=n(43),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{class:"text-"+t.align+"  text-h4 text-md-h3 text-lg-h2",staticStyle:{"letter-spacing":"0px !important"}},[t.prependIcon?n(r.a,[t._v("\n    "+t._s(t.prependIcon)+"\n  ")]):t._e(),t._v("\n  "+t._s(t.text)+"\n")],1)}),[],!1,null,null,null);e.default=component.exports},753:function(t,e,n){"use strict";n(22),n(5),n(21),n(110),n(29),n(734),n(273),n(92),n(101);var r=n(1);var o,c=n(111);e.a=(o="container",r.default.extend({name:"v-".concat(o),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,e){var n=e.props,data=e.data,r=e.children;data.staticClass="".concat(o," ").concat(data.staticClass||"").trim();var c=data.attrs;if(c){data.attrs={};var l=Object.keys(c).filter((function(t){if("slot"===t)return!1;var e=c[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}));l.length&&(data.staticClass+=" ".concat(l.join(" ")))}return n.id&&(data.domProps=data.domProps||{},data.domProps.id=n.id),t(n.tag,data,r)}})).extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var n,r=e.props,data=e.data,o=e.children,l=data.attrs;return l&&(data.attrs={},n=Object.keys(l).filter((function(t){if("slot"===t)return!1;var e=l[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}))),r.id&&(data.domProps=data.domProps||{},data.domProps.id=r.id),t(r.tag,Object(c.a)(data,{staticClass:"container",class:Array({"container--fluid":r.fluid}).concat(n||[])}),o)}})},906:function(t,e,n){"use strict";n(21),n(20),n(22),n(5),n(24),n(17),n(25);var r=n(2),o=(n(92),n(91)),c=n(695),l=n(1);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=l.default.extend({name:"v-app-bar-nav-icon",functional:!0,render:function(t,e){var n=e.slots,r=e.listeners,l=e.props,data=e.data,f=Object.assign(data,{staticClass:"v-app-bar__nav-icon ".concat(data.staticClass||"").trim(),props:d(d({},l),{},{icon:!0}),on:r}),v=n().default;return t(c.a,f,v||[t(o.a,"$menu")])}})},984:function(t,e,n){"use strict";n.r(e);var r=n(1096),o=(n(66),n(3)),c=Object(o.b)({name:"UserDarkmode",setup:function(){var t=Object(o.r)().state,e=Object(o.m)(),n=e.$vuetify,r=e.$ttlStorage,c=Object(o.a)((function(){return t.user.data})),l=Object(o.a)((function(){return t.user.profile}));return{loading:Object(o.i)(!1),user:c,profile:l,toggleDarkMode:function(){setTimeout((function(){n.theme.dark=!!n.theme.dark,r.set("darkMode",n.theme.dark)}),0)}}}}),l=n(43),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$config.useDarkMode?n(r.a,{attrs:{"hide-details":"true",label:"Dark Mode","prepend-icon":"mdi-brightness-4"},on:{click:t.toggleDarkMode},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}}):t._e()}),[],!1,null,null,null);e.default=component.exports},985:function(t,e,n){"use strict";n.r(e);var r=n(1096),o=n(0),c=(n(16),n(66),n(3)),l=Object(c.b)({name:"MapLocationtoggle",props:{label:{type:String,default:function(){return"Location"}}},setup:function(){var t=Object(c.r)(),e=t.state,n=t.dispatch,r=Object(c.m)().$capacitor,l=Object(c.a)((function(){return e.user.data})),f=Object(c.a)((function(){return e.user.profile})),d=Object(c.i)(!1),v=Object(c.i)(!1);Object(c.f)((function(){Object(c.d)((function(){setTimeout((function(){v.value=f.value.permissions.location}),1e3)}))}));var m=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("user/updateField",{permissions:{location:!1}});case 2:return t.next=4,r.clearWatchPosition();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==v.value){t.next=5;break}return t.next=3,r.positionPermissions();case 3:t.next=7;break;case 5:return t.next=7,m();case 7:if(!v.value){t.next=10;break}return t.next=10,n("user/updateField",{permissions:{location:v.value}});case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{loading:d,user:l,profile:f,locationPermissionGranted:v,toggleLocation:h}}}),f=l,d=n(43),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(r.a,{attrs:{"hide-details":"true",label:t.label,"prepend-icon":"mdi-map-marker-account"},on:{click:t.toggleLocation},model:{value:t.locationPermissionGranted,callback:function(e){t.locationPermissionGranted=e},expression:"locationPermissionGranted"}})}),[],!1,null,null,null);e.default=component.exports},986:function(t,e,n){"use strict";n.r(e);var r=n(1096),o=n(0),c=(n(16),n(66),n(3)),l=Object(c.b)({name:"NotificationsToggle",props:{label:{type:String,default:function(){return"Notifications"}}},setup:function(){var t=Object(c.r)(),e=t.state,n=t.dispatch,r=Object(c.m)(),l=r.$notify,f=r.$system,d=r.$capacitor,v=r.$fire,m=Object(c.a)((function(){return e.user.data})),h=Object(c.a)((function(){return e.user.profile})),x=Object(c.i)(!1),_=Object(c.i)(null),O=Object(c.i)(null),y=Object(c.i)(!1),j=Object(c.i)(!1);Object(c.f)(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.device();case 2:O.value=t.sent,O.value&&O.value.platform&&("web"===O.value.platform||void 0===O.value.platform||null===O.value.platform)&&(y.value=!0),Object(c.d)((function(){setTimeout((function(){h.value.permissions.notifications&&(j.value=!0)}),1e3)}));case 5:case"end":return t.stop()}}),t)}))));var k=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("user/updateField",{permissions:{notifications:!1}});case 2:if(y.value){t.next=5;break}return t.next=5,d.pushNotificationsRemoveListeners();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("notificationPermissionGranted.value",j.value),!0!==j.value){t.next=13;break}if(!y.value){t.next=8;break}return t.next=5,P();case 5:_.value=h.value.notificationWebToken,t.next=11;break;case 8:return t.next=10,d.pushNotificationsRequestAndRegisterPermissions();case 10:_.value=h.value.notificationDeviceToken;case 11:t.next=15;break;case 13:return t.next=15,k();case 15:if(!j.value){t.next=18;break}return t.next=18,n("user/updateField",{permissions:{notifications:j.value}});case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,window.Notification){t.next=5;break}l.show({text:"Notifications not supported!",color:"error"}),t.next=14;break;case 5:return t.next=7,Notification.requestPermission();case 7:if(e=t.sent,j.value="granted"===e,!v.messaging){t.next=12;break}return t.next=12,v.messaging.getToken();case 12:return t.next=14,n("user/updateField",{permissions:{notifications:"granted"===e}});case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),l.show({text:"Error with your notifications.",color:"error"}),f.log({comp:"UserToggleSettings",msg:"requestWebPermissions",val:t.t0});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return{loading:x,user:m,token:_,profile:h,notificationPermissionGranted:j,toggleNotifications:w}}}),f=l,d=n(43),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(r.a,{attrs:{"hide-details":"true",label:t.label,"prepend-icon":"mdi-bell"},on:{click:t.toggleNotifications},model:{value:t.notificationPermissionGranted,callback:function(e){t.notificationPermissionGranted=e},expression:"notificationPermissionGranted"}})}),[],!1,null,null,null);e.default=component.exports}}]);