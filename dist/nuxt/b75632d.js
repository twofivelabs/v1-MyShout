(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1020:function(t,e,n){var content=n(1061);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("ec00f170",content,!0,{sourceMap:!1})},1060:function(t,e,n){"use strict";n(1020)},1061:function(t,e,n){var r=n(51)(!1);r.push([t.i,"\n.link-preview[data-v-9528af30] {\n  margin-top: 1rem;\n}\n.preview-image[data-v-9528af30] {\n  max-width: 100%;\n  height: auto;\n  margin-bottom: 0.5rem;\n}\n.title[data-v-9528af30], .description[data-v-9528af30] {\n  margin: 0;\n}\n",""]),t.exports=r},1091:function(t,e,n){"use strict";n.r(e);var r=n(697),o=n(695),c=n(768),l=n(1049),f=n(733),h=n(213),d=n(746),v=n(0),m=(n(14),n(22),n(60),n(4),n(7)),w=Object(m.b)({name:"ChatMessageLink",props:{url:{ttype:Object,default:function(){return{}}}},setup:function(t){var e=Object(m.i)(!0),n=Object(m.i)(!1),r=Object(m.i)({});function o(){return(o=Object(v.a)(regeneratorRuntime.mark((function t(o){var l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o.href){t.next=3;break}return t.abrupt("return");case 3:return console.log("KYLE: Getting URL Preview"),t.next=6,fetch("https://us-central1-my-shout-staging.cloudfunctions.net/Chat-fetchUrlMetadata?url=".concat(encodeURIComponent(o.href)));case 6:if(l=t.sent,console.log("KYLE: URL is ".concat(l.okay)),l.ok){t.next=11;break}throw n.value=!0,new Error("HTTP error! Status: ".concat(l.status));case 11:return t.next=13,l.json();case 13:f=t.sent,r.value={image:f.image,title:f.title,description:c(f.description)},t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),n.value=!0,console.error("Failed to fetch URL metadata:",t.t0);case 21:return t.prev=21,e.value=!1,t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,17,21,24]])})))).apply(this,arguments)}var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;return t?t.length>e?t.substring(0,e)+"...":t:""};return Object(m.r)((function(){return t.url}),(function(t,e){t&&t!==e&&function(t){o.apply(this,arguments)}(t)}),{immediate:!0}),{noPreview:n,generatingPreview:e,metadata:r}}}),_=w,k=(n(1060),n(58)),component=Object(k.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.noPreview?t._e():n(r.a,[n(o.b,[t.generatingPreview?n(h.a,{attrs:{indeterminate:"",color:"primary"}}):n(l.a,{attrs:{fluid:""}},[n(d.a,{attrs:{"no-gutters":""}},[n(c.a,{attrs:{cols:"3"}},[n("a",{attrs:{href:t.url.href,target:"_blank"}},[t.metadata.image?n(f.a,{attrs:{src:t.metadata.image,"max-height":"100",contain:""}}):t._e()],1)]),t._v(" "),n(c.a,{attrs:{cols:"9"}},[n("a",{staticClass:"text-h6 font-weight-bold py-0",staticStyle:{"line-height":"0.3em"},attrs:{href:t.url.href,target:"_blank"}},[t._v(t._s(t.metadata.title))]),t._v(" "),n("p",{staticClass:"py-0"},[t._v(t._s(t.metadata.description))])])],1)],1)],1)],1)}),[],!1,null,"9528af30",null);e.default=component.exports}}]);