(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1095:function(e,t,n){"use strict";n.r(t);var r=n(675),c=n(273),l=n(0),o=(n(14),n(15),n(7)),d=Object(o.b)({name:"ChatUploadimage",props:{chat:{type:Object,default:function(){return{}}},currentUrl:{type:String,default:function(){return null}}},emits:["url"],setup:function(e,t){var n=t.emit,r=Object(o.l)(),c=r.$capacitor,d=r.$db,m=Object(o.i)(!1),v=Object(o.i)(!1),f=Object(o.i)(),h=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(){var r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.value=!0,v.value=!1,t.prev=2,t.next=5,c.cameraTakePicture(!1);case 5:return r=t.sent,t.next=8,d.upload({path:"/CHATS/".concat(e.chat.id,"/").concat((new Date).getTime(),".jpg"),data:r,base64:!0});case 8:(l=t.sent)&&(v.value=!0,f.value=l,n("url",f.value)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("Capacitor Camera Handler Error",t.t0);case 15:return t.prev=15,m.value=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})));return function(){return t.apply(this,arguments)}}();return Object(o.s)((function(){v.value=!!e.currentUrl})),{loadImageHandler:h,imageLoading:m,uploadComplete:v,imageUrl:f}}}),m=d,v=n(58),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(r.a,{staticClass:"pa-0",attrs:{loading:e.imageLoading,disabled:!!e.imageUrl,color:"transparent",elevation:"0",small:"",fab:""},on:{click:e.loadImageHandler}},[n(c.a,[e._v("\n    mdi-image\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports}}]);