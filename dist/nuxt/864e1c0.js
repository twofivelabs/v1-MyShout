(window.webpackJsonp=window.webpackJsonp||[]).push([[143,103],{1073:function(t,e,r){"use strict";r(971)},1074:function(t,e,r){var o=r(38)(!1);o.push([t.i,".company-list-card{overflow:hidden}.company-product-0{z-index:2}.company-product-1{opacity:.25;position:absolute;padding-left:5px}",""]),t.exports=o},1194:function(t,e,r){"use strict";r.r(e);var o=r(0),l=(r(17),r(3)),n=Object(l.b)({name:"UserOrders",middleware:"authenticated",setup:function(){var t=Object(l.r)(),e=t.state,r=t.dispatch,n=Object(l.m)().$system,d=Object(l.a)((function(){return e.user.data})),c=Object(l.a)((function(){return e.user.profile})),v=Object(l.i)(!1),_=Object(l.i)(!1),h=Object(l.i)(!1),m=Object(l.i)([]);Object(l.l)(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v.value=!0,t.next=4,r("orders/getAll",{where:{},order:{by:"created_at",direction:"desc"}});case 4:m.value=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.log({comp:"UserOrders",msg:"Not able to get orders",val:t.t0});case 10:return t.prev=10,v.value=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])}))),"8H5G+meVpKXjBQq5Ut3+jw==");return{loading:v,user:d,profile:c,showDetailsSheet:_,orderDetails:h,orders:m,showDetails:function(t){h.value=Object.assign({},t),_.value=!0},swipe:function(t){"Down"===t&&(_.value=!1)}}},head:{}}),d=(r(1073),r(43)),c=r(45),v=r.n(c),_=r(260),h=r(714),m=r(688),f=r(710),w=r(159),x=r(733),y=r(104),C=r(711),k=r(75),D=r(713),O=r(170),j=r.n(O),S=r(271),component=Object(d.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("div",[r("v-skeleton-loader",{attrs:{type:"list-item-avatar-three-line"}}),t._v(" "),r("v-skeleton-loader",{attrs:{type:"list-item-avatar-three-line"}}),t._v(" "),r("v-skeleton-loader",{attrs:{type:"list-item-avatar-three-line"}})],1):r("div",[t.orders&&t.orders.length>0?r("div",[r("ElementH3",{staticClass:"mb-8 ml-2",attrs:{align:"left",text:"Orders"}}),t._v(" "),t._l(t.orders,(function(e,o){return r("v-row",{key:o,on:{click:function(r){return t.showDetails(e)}}},[r("v-col",{attrs:{cols:"4"}},[r("v-item-group",{staticClass:"company-list-card float-left pa-1"},t._l(e.order.items,(function(t,e){return r("span",{key:e,class:"company-product-"+e},[r("v-avatar",{staticClass:"avatar-elevation white rounded-lg elevation-3",attrs:{rounded:""}},[r("v-img",{attrs:{src:t.images[0],contain:"","lazy-src":"/placeholder.png"}})],1)],1)})),0),t._v(" "),r("div",{class:(t.$vuetify.theme.dark?"black":"grey")+" lighten-4 rounded-lg text-center float-left px-4 py-2 ml-n3"},[r("div",{staticClass:"font-weight-black"},[t._v("\n              "+t._s(e.order.item_count)+"\n            ")]),t._v(" "),r("div",{staticClass:"text-caption"},[t._v("\n              Qty\n            ")])])],1),t._v(" "),r("v-col",{attrs:{cols:"4"}},[r("div",{staticClass:"text-capitalize mr-3"},[t._v("\n            "+t._s(e.order.status)+"\n          ")]),t._v(" "),r("div",{staticClass:"text-caption"},[t._v("\n            "+t._s(e.created_at)+"\n          ")])]),t._v(" "),r("v-col",{staticClass:"text-right"},[t._v("\n          "+t._s(e.order.total_after_tip)+"\n        ")]),t._v(" "),r("v-col",{staticClass:"text-right"},[r("v-icon",[t._v("mdi-dots-vertical")])],1)],1)})),t._v(" "),r("v-bottom-sheet",{staticClass:"bottom-sheet",attrs:{scrollable:!0,inset:"","max-width":"700"},model:{value:t.showDetailsSheet,callback:function(e){t.showDetailsSheet=e},expression:"showDetailsSheet"}},[r("v-sheet",{staticClass:"pa-5 overflow-y-auto rounded-t-xl",attrs:{height:"75vh"}},[r("GlobalSlidebar",{directives:[{name:"touch",rawName:"v-touch",value:{down:function(){return t.swipe("Down")}},expression:"{ down: () => swipe('Down') }"}],nativeOn:{click:function(e){return t.swipe("Down")}}}),t._v(" "),r("ElementH3",{attrs:{align:"left",text:"Order Details"}}),t._v(" "),r("OrderDetails",{attrs:{order:t.orderDetails}})],1)],1)],2):r("div",[r("div",{staticStyle:{"text-align":"center"}},[r("ElementH4",{attrs:{align:"center",text:"You have no orders. Let's get started."}}),t._v(" "),r("v-btn",{staticClass:"mt-3 mb-3",attrs:{elevation:"0",to:"/"}},[t._v("\n          Start Now\n        ")]),t._v(" "),t._m(0)],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("object",{staticStyle:{"max-width":"200px",height:"200px"},attrs:{data:"/svg/BeerSurfer.svg",type:"image/svg+xml"}},[e("img",{attrs:{src:"/svg/BeerSurfer.svg"}})])])}],!1,null,null,null);e.default=component.exports;v()(component,{ElementH3:r(380).default,GlobalSlidebar:r(381).default,OrderDetails:r(991).default,ElementH4:r(382).default}),v()(component,{VAvatar:_.a,VBottomSheet:h.a,VBtn:m.a,VCol:f.a,VIcon:w.a,VImg:x.a,VItemGroup:y.b,VRow:C.a,VSheet:k.a,VSkeletonLoader:D.a}),j()(component,{Touch:S.b})},971:function(t,e,r){var content=r(1074);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(39).default)("3d060333",content,!0,{sourceMap:!1})},991:function(t,e,r){"use strict";r.r(e);r(30);var o={name:"DetailsComp",props:{order:{type:Object,default:null}},methods:{openMap:function(t){var e=encodeURIComponent("".concat(t.address_1," ").concat(t.city," ").concat(t.province));window.open("https://www.google.com/maps/place/".concat(e),"_blank")}}},l=r(43),n=r(45),d=r.n(n),c=r(260),v=r(688),_=r(790),h=r(710),m=r(733),f=r(711),w=r(75),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.order&&Object.keys(t.order).length>0?r("div",{staticClass:"mt-3"},[r("v-row",[r("v-col",[t._v("\n        Ordered on "),r("b",[t._v(t._s(t.order.created_at))]),t._v(".\n        "),r("div",[t._v("Your order ID is\n          "),r("v-chip",{attrs:{small:""}},[t._v("\n            "+t._s(t.order.orderId.split("-")[0])+"\n          ")]),t._v("\n          .\n        ")],1),t._v(" "),r("div",[t.order.order.total_after_tip?r("span",[t._v("With a total of "),r("b",[t._v(t._s(t.order.order.total_after_tip))]),t._v(".")]):t._e()])])],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"5"}},[r("v-sheet",{staticClass:"pa-2 mb-2 text-body-2",attrs:{outlined:"",rounded:""}},[r("small",[t._v("BILL TO")]),t._v(" "),r("div",[t._v(t._s(t.order.order.bill_to.address_2)+" "+t._s(t.order.order.bill_to.address_1)+"\n          ")]),t._v(" "),r("div",[t._v(t._s(t.order.order.bill_to.city)+" "+t._s(t.order.order.bill_to.province))]),t._v(" "),r("div",[t._v(t._s(t.order.order.bill_to.country)+" "+t._s(t.order.order.bill_to.postal))])]),t._v(" "),r("v-sheet",{staticClass:"pa-2 mb-2 text-body-2",attrs:{outlined:"",rounded:""}},[r("small",[t._v("SHIP TO")]),t._v(" "),r("div",[t._v(t._s(t.order.order.ship_to.address_2)+" "+t._s(t.order.order.ship_to.address_1)+"\n          ")]),t._v(" "),r("div",[t._v(t._s(t.order.order.ship_to.city)+" "+t._s(t.order.order.ship_to.province))]),t._v(" "),r("div",[t._v(t._s(t.order.order.ship_to.country)+" "+t._s(t.order.order.ship_to.postal))]),t._v(" "),r("v-btn",{staticClass:"elevation-0",attrs:{small:""},on:{click:function(e){return t.openMap(t.order.order.ship_to)}}},[t._v("View\n            Map\n          ")])],1),t._v(" "),t.order.order.shipping_instructions?r("div",{staticClass:"mt-4"},[t._v("\n          Shipping Instructions: "+t._s(t.order.order.shipping_instructions)+"\n        ")]):t._e()],1),t._v(" "),t.order.order.grouped.items?r("v-col",t._l(t.order.order.grouped.items,(function(e,o){return r("v-sheet",{key:o,staticClass:"pa-2 mb-2",attrs:{outlined:"",rounded:""}},[r("h5",{staticClass:"pt-2"},[t._v("\n            "+t._s(e[0].company.name)+"\n          ")]),t._v(" "),t._l(e,(function(e,o){return r("v-row",{key:o,staticClass:"ma-0 align-center"},[r("v-col",{staticClass:"pa-0",attrs:{cols:"5",sm:"4"}},[r("nuxt-link",{attrs:{to:"/products/"+e.id}},[r("v-avatar",{staticClass:"avatar-elevation white rounded-lg elevation-3",attrs:{rounded:"",size:"60"}},[r("v-img",{attrs:{src:e.product_image,contain:""}})],1),t._v(" "),r("span",{staticClass:"black--text grey lighten-2 rounded-lg pa-3 pl-5 mt-6 ml-n3"},[r("span",{staticClass:"subtitle-1"},[t._v(t._s(e.quantity))]),t._v(" "),r("span",{staticClass:"caption grey--text darken-4"},[t._v("Qty")])])],1)],1),t._v(" "),r("v-col",{staticClass:"pa-0"},[r("div",{staticClass:"text-caption grey--text text--darken-1 text-uppercase"},[r("nuxt-link",{attrs:{to:"/companies/"+e.company.id}},[t._v("\n                  "+t._s(e.company.name)+"\n                ")])],1),t._v(" "),r("nuxt-link",{staticClass:"text-body-2",staticStyle:{color:"#616161"},attrs:{to:"/products/"+e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),e.label?r("span",{staticClass:"text-body-2 font-weight-bold"},[t._v("\n                / "+t._s(e.label)+"\n              ")]):t._e()],1),t._v(" "),r("v-col",{staticClass:"pa-0 text-right",attrs:{cols:"2",sm:"2"}},[t._v("\n              "+t._s(t._f("centsToDollars")(e.price))+"\n            ")])],1)})),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[t.order.order.grouped.totals[o].bottle_deposit?r("v-row",[r("v-col",[r("h5",[t._v("Bottle Deposit")])]),t._v(" "),r("v-col",{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[o].bottle_deposit)))])])],1):t._e(),t._v(" "),t.order.order.grouped.shipping&&t.order.order.grouped.shipping[o]?r("v-row",{staticClass:"mt-0"},[r("v-col",[r("h5",[t._v(t._s(t.order.order.grouped.shipping[o].label))])]),t._v(" "),r("v-col",{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.shipping[o].cost)))])])],1):t._e(),t._v(" "),t.order.order.grouped.totals&&t.order.order.grouped.totals[o].discount?r("v-row",{staticClass:"mt-0"},[r("v-col",[r("h5",[t._v("Discount")])]),t._v(" "),r("v-col",{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[o].discount)))])])],1):t._e()],1),t._v(" "),t.order.order.grouped.totals&&t.order.order.grouped.totals[o]?r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-row",[r("v-col",[r("h5",[t._v("Sub Total")])]),t._v(" "),r("v-col",{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[o].sub_total)))])])],1),t._v(" "),r("v-row",{staticClass:"mt-0"},[r("v-col",[r("h5",[t._v("Tax Total")])]),t._v(" "),r("v-col",{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[o].tax)))])])],1),t._v(" "),r("v-row",{staticClass:"mt-0"},[r("v-col",[r("h5",[t._v("Total")])]),t._v(" "),r("v-col",{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[o].total)))])])],1)],1):t._e()],1)],2)})),1):t._e()],1)],1):r("div",[t._v("\n    No order available.\n  ")])])}),[],!1,null,null,null);e.default=component.exports;d()(component,{VAvatar:c.a,VBtn:v.a,VChip:_.a,VCol:h.a,VImg:m.a,VRow:f.a,VSheet:w.a})}}]);