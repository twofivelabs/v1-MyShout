(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{1190:function(e,t,r){"use strict";r.r(t);var n=r(0),l=(r(57),r(49),r(17),r(3)),c=Object(l.b)({name:"UserAddress",middleware:"authenticated",setup:function(){var e=Object(l.r)(),t=e.state,r=e.dispatch,c=Object(l.m)(),o=c.$notify,d=c.$system,v=Object(l.a)((function(){return t.user.data})),m=Object(l.a)((function(){return t.user.profile})),_=Object(l.i)(!1),h=Object(l.i)(!1),f=Object(l.i)([]);Object(l.l)(Object(n.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_.value=!0,e.next=4,r("user/address/search",{term:"billing"});case 4:return(t=e.sent)&&t[0]&&(h.value=t[0]),e.next=8,r("user/address/search",{term:"shipping"});case 8:(n=e.sent)&&n[0]&&(f.value=n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),d.log({comp:"UserAddress",msg:"Not able to get address",val:e.t0});case 15:return e.prev=15,_.value=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])}))),"rLk1iBMV7NayPREEyU5rnQ==");var x=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_.value=!0,e.next=4,r("user/address/remove",t);case 4:n=e.sent,y(t),n?(y(t),o.show({text:"Success",color:"success"})):o.show({text:"Error, try again",color:"error"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),d.log({comp:"UserAddress",msg:"Not able to remove",val:e.t0}),o.show({text:"Error, try again",color:"error"});case 13:return e.prev=13,_.value=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=f.value.findIndex((function(t){return t.slug===e}));return t>-1&&(f.value.splice(t,1),!0)};return{loading:_,user:v,profile:m,billing:h,shipping:f,removeAddress:x,removeOneShipping:y}},head:{}}),o=c,d=r(43),v=r(45),m=r.n(v),_=r(688),h=r(159),f=r(75),x=r(713),component=Object(d.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.loading?r("div",[r("v-skeleton-loader",{attrs:{type:"list-item-avatar-two-line"}})],1):r("div",[e.billing&&Object.keys(e.billing).length>0?r("div",[r("ElementH3",{staticClass:"mb-8",attrs:{align:"left",text:"Billing Address"}}),e._v(" "),r("v-sheet",{staticClass:"mt-4 pa-2 mb-2 text-body-2",attrs:{outlined:"",rounded:""}},[r("div",[e._v(e._s(e.billing.first_name)+" "+e._s(e.billing.last_name))]),e._v("\n        "+e._s(e.billing.address_2)+" "+e._s(e.billing.address_1)+"\n        "+e._s(e.billing.city)+", "+e._s(e.billing.province)+"\n        "+e._s(e.billing.country)+", "+e._s(e.billing.postal)+"\n      ")])],1):e._e(),e._v(" "),e.shipping&&Object.keys(e.shipping).length>0?r("div",{staticClass:"mt-6"},[r("ElementH3",{attrs:{align:"left",text:"Shipping Addresses"}}),e._v(" "),e._l(e.shipping,(function(t,n){return r("v-sheet",{key:n,class:"mt-4 pa-2 mb-2 "+t.slug+" text-body-2",attrs:{outlined:"",rounded:""}},[r("v-btn",{attrs:{icon:"",rounded:"",text:"","x-small":""},on:{click:function(r){return e.removeAddress(t.slug)}}},[r("v-icon",[e._v("mdi-close")])],1),e._v(" "),r("div",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),e._v("\n        "+e._s(t.address_2)+" "+e._s(t.address_1)+"\n        "+e._s(t.city)+", "+e._s(t.province)+"\n        "+e._s(t.country)+", "+e._s(t.postal)+"\n      ")],1)}))],2):e._e(),e._v(" "),e.billing||0!==e.shipping.length?e._e():r("div",[r("div",{staticStyle:{"text-align":"center"}},[r("ElementH4",{staticClass:"mt-6",attrs:{align:"center",text:"After you make a purchase you will see addresses here."}}),e._v(" "),r("v-btn",{staticClass:"mt-3 mb-3",attrs:{elevation:"0",to:"/"}},[e._v("\n          Start Now\n        ")]),e._v(" "),e._m(0)],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("object",{staticStyle:{"max-width":"200px",height:"250px"},attrs:{data:"/svg/DeliverBeer.svg",type:"image/svg+xml"}},[t("img",{attrs:{src:"/svg/DeliverBeer.svg"}})])])}],!1,null,null,null);t.default=component.exports;m()(component,{ElementH3:r(380).default,ElementH4:r(382).default}),m()(component,{VBtn:_.a,VIcon:h.a,VSheet:f.a,VSkeletonLoader:x.a})}}]);