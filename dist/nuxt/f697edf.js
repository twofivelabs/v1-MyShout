(window.webpackJsonp=window.webpackJsonp||[]).push([[142,102],{1083:function(t,e,r){"use strict";r(979)},1084:function(t,e,r){var o=r(38)(!1);o.push([t.i,".company-list-card{overflow:hidden}.company-product-0{z-index:2}.company-product-1{opacity:.25;position:absolute;padding-left:5px}",""]),t.exports=o},1204:function(t,e,r){"use strict";r.r(e);var o=r(260),n=r(722),l=r(695),d=r(718),c=r(158),_=r(740),v=r(104),h=r(717),m=r(74),f=r(724),x=r(271),y=r(0),C=(r(16),r(3)),w=Object(C.b)({name:"UserOrders",middleware:"authenticated",setup:function(){var t=Object(C.r)(),e=t.state,r=t.dispatch,o=Object(C.m)().$system,n=Object(C.a)((function(){return e.user.data})),l=Object(C.a)((function(){return e.user.profile})),d=Object(C.i)(!1),c=Object(C.i)(!1),_=Object(C.i)(!1),v=Object(C.i)([]);Object(C.l)(Object(y.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d.value=!0,t.next=4,r("orders/getAll",{where:{},order:{by:"created_at",direction:"desc"}});case 4:v.value=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),o.log({comp:"UserOrders",msg:"Not able to get orders",val:t.t0});case 10:return t.prev=10,d.value=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])}))),"YkfFz7vmHyz86bHVsmFzvA==");return{loading:d,user:n,profile:l,showDetailsSheet:c,orderDetails:_,orders:v,showDetails:function(t){_.value=Object.assign({},t),c.value=!0},swipe:function(t){"Down"===t&&(c.value=!1)}}},head:{}}),D=(r(1083),r(43)),component=Object(D.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("div",[r(f.a,{attrs:{type:"list-item-avatar-three-line"}}),t._v(" "),r(f.a,{attrs:{type:"list-item-avatar-three-line"}}),t._v(" "),r(f.a,{attrs:{type:"list-item-avatar-three-line"}})],1):r("div",[t.orders&&t.orders.length>0?r("div",[r("ElementH3",{staticClass:"mb-8 ml-2",attrs:{align:"left",text:"Orders"}}),t._v(" "),t._l(t.orders,(function(e,n){return r(h.a,{key:n,on:{click:function(r){return t.showDetails(e)}}},[r(d.a,{attrs:{cols:"4"}},[r(v.b,{staticClass:"company-list-card float-left pa-1"},t._l(e.order.items,(function(t,e){return r("span",{key:e,class:"company-product-"+e},[r(o.a,{staticClass:"avatar-elevation white rounded-lg elevation-3",attrs:{rounded:""}},[r(_.a,{attrs:{src:t.images[0],contain:"","lazy-src":"/placeholder.png"}})],1)],1)})),0),t._v(" "),r("div",{class:(t.$vuetify.theme.dark?"black":"grey")+" lighten-4 rounded-lg text-center float-left px-4 py-2 ml-n3"},[r("div",{staticClass:"font-weight-black"},[t._v("\n              "+t._s(e.order.item_count)+"\n            ")]),t._v(" "),r("div",{staticClass:"text-caption"},[t._v("\n              Qty\n            ")])])],1),t._v(" "),r(d.a,{attrs:{cols:"4"}},[r("div",{staticClass:"text-capitalize mr-3"},[t._v("\n            "+t._s(e.order.status)+"\n          ")]),t._v(" "),r("div",{staticClass:"text-caption"},[t._v("\n            "+t._s(e.created_at)+"\n          ")])]),t._v(" "),r(d.a,{staticClass:"text-right"},[t._v("\n          "+t._s(e.order.total_after_tip)+"\n        ")]),t._v(" "),r(d.a,{staticClass:"text-right"},[r(c.a,[t._v("mdi-dots-vertical")])],1)],1)})),t._v(" "),r(n.a,{staticClass:"bottom-sheet",attrs:{scrollable:!0,inset:"","max-width":"700"},model:{value:t.showDetailsSheet,callback:function(e){t.showDetailsSheet=e},expression:"showDetailsSheet"}},[r(m.a,{staticClass:"pa-5 overflow-y-auto rounded-t-xl",attrs:{height:"75vh"}},[r("GlobalSlidebar",{directives:[{def:x.b,name:"touch",rawName:"v-touch",value:{down:function(){return t.swipe("Down")}},expression:"{ down: () => swipe('Down') }"}],nativeOn:{click:function(e){return t.swipe("Down")}}}),t._v(" "),r("ElementH3",{attrs:{align:"left",text:"Order Details"}}),t._v(" "),r("OrderDetails",{attrs:{order:t.orderDetails}})],1)],1)],2):r("div",[r("div",{staticStyle:{"text-align":"center"}},[r("ElementH4",{attrs:{align:"center",text:"You have no orders. Let's get started."}}),t._v(" "),r(l.a,{staticClass:"mt-3 mb-3",attrs:{elevation:"0",to:"/"}},[t._v("\n          Start Now\n        ")]),t._v(" "),t._m(0)],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("object",{staticStyle:{"max-width":"200px",height:"200px"},attrs:{data:"/svg/BeerSurfer.svg",type:"image/svg+xml"}},[e("img",{attrs:{src:"/svg/BeerSurfer.svg"}})])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{ElementH3:r(386).default,GlobalSlidebar:r(387).default,OrderDetails:r(999).default,ElementH4:r(388).default})},979:function(t,e,r){var content=r(1084);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(39).default)("0439431d",content,!0,{sourceMap:!1})},999:function(t,e,r){"use strict";r.r(e);var o=r(260),n=r(695),l=r(789),d=r(718),c=r(740),_=r(717),v=r(74),h=(r(29),{name:"DetailsComp",props:{order:{type:Object,default:null}},methods:{openMap:function(t){var e=encodeURIComponent("".concat(t.address_1," ").concat(t.city," ").concat(t.province));window.open("https://www.google.com/maps/place/".concat(e),"_blank")}}}),m=r(43),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.order&&Object.keys(t.order).length>0?r("div",{staticClass:"mt-3"},[r(_.a,[r(d.a,[t._v("\n        Ordered on "),r("b",[t._v(t._s(t.order.created_at))]),t._v(".\n        "),r("div",[t._v("Your order ID is\n          "),r(l.a,{attrs:{small:""}},[t._v("\n            "+t._s(t.order.orderId.split("-")[0])+"\n          ")]),t._v("\n          .\n        ")],1),t._v(" "),r("div",[t.order.order.total_after_tip?r("span",[t._v("With a total of "),r("b",[t._v(t._s(t.order.order.total_after_tip))]),t._v(".")]):t._e()])])],1),t._v(" "),r(_.a,[r(d.a,{attrs:{cols:"12",md:"5"}},[r(v.a,{staticClass:"pa-2 mb-2 text-body-2",attrs:{outlined:"",rounded:""}},[r("small",[t._v("BILL TO")]),t._v(" "),r("div",[t._v(t._s(t.order.order.bill_to.address_2)+" "+t._s(t.order.order.bill_to.address_1)+"\n          ")]),t._v(" "),r("div",[t._v(t._s(t.order.order.bill_to.city)+" "+t._s(t.order.order.bill_to.province))]),t._v(" "),r("div",[t._v(t._s(t.order.order.bill_to.country)+" "+t._s(t.order.order.bill_to.postal))])]),t._v(" "),r(v.a,{staticClass:"pa-2 mb-2 text-body-2",attrs:{outlined:"",rounded:""}},[r("small",[t._v("SHIP TO")]),t._v(" "),r("div",[t._v(t._s(t.order.order.ship_to.address_2)+" "+t._s(t.order.order.ship_to.address_1)+"\n          ")]),t._v(" "),r("div",[t._v(t._s(t.order.order.ship_to.city)+" "+t._s(t.order.order.ship_to.province))]),t._v(" "),r("div",[t._v(t._s(t.order.order.ship_to.country)+" "+t._s(t.order.order.ship_to.postal))]),t._v(" "),r(n.a,{staticClass:"elevation-0",attrs:{small:""},on:{click:function(e){return t.openMap(t.order.order.ship_to)}}},[t._v("View\n            Map\n          ")])],1),t._v(" "),t.order.order.shipping_instructions?r("div",{staticClass:"mt-4"},[t._v("\n          Shipping Instructions: "+t._s(t.order.order.shipping_instructions)+"\n        ")]):t._e()],1),t._v(" "),t.order.order.grouped.items?r(d.a,t._l(t.order.order.grouped.items,(function(e,n){return r(v.a,{key:n,staticClass:"pa-2 mb-2",attrs:{outlined:"",rounded:""}},[r("h5",{staticClass:"pt-2"},[t._v("\n            "+t._s(e[0].company.name)+"\n          ")]),t._v(" "),t._l(e,(function(e,n){return r(_.a,{key:n,staticClass:"ma-0 align-center"},[r(d.a,{staticClass:"pa-0",attrs:{cols:"5",sm:"4"}},[r("nuxt-link",{attrs:{to:"/products/"+e.id}},[r(o.a,{staticClass:"avatar-elevation white rounded-lg elevation-3",attrs:{rounded:"",size:"60"}},[r(c.a,{attrs:{src:e.product_image,contain:""}})],1),t._v(" "),r("span",{staticClass:"black--text grey lighten-2 rounded-lg pa-3 pl-5 mt-6 ml-n3"},[r("span",{staticClass:"subtitle-1"},[t._v(t._s(e.quantity))]),t._v(" "),r("span",{staticClass:"caption grey--text darken-4"},[t._v("Qty")])])],1)],1),t._v(" "),r(d.a,{staticClass:"pa-0"},[r("div",{staticClass:"text-caption grey--text text--darken-1 text-uppercase"},[r("nuxt-link",{attrs:{to:"/companies/"+e.company.id}},[t._v("\n                  "+t._s(e.company.name)+"\n                ")])],1),t._v(" "),r("nuxt-link",{staticClass:"text-body-2",staticStyle:{color:"#616161"},attrs:{to:"/products/"+e.id}},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),e.label?r("span",{staticClass:"text-body-2 font-weight-bold"},[t._v("\n                / "+t._s(e.label)+"\n              ")]):t._e()],1),t._v(" "),r(d.a,{staticClass:"pa-0 text-right",attrs:{cols:"2",sm:"2"}},[t._v("\n              "+t._s(t._f("centsToDollars")(e.price))+"\n            ")])],1)})),t._v(" "),r(_.a,[r(d.a,{attrs:{cols:"12",md:"6"}},[t.order.order.grouped.totals[n].bottle_deposit?r(_.a,[r(d.a,[r("h5",[t._v("Bottle Deposit")])]),t._v(" "),r(d.a,{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[n].bottle_deposit)))])])],1):t._e(),t._v(" "),t.order.order.grouped.shipping&&t.order.order.grouped.shipping[n]?r(_.a,{staticClass:"mt-0"},[r(d.a,[r("h5",[t._v(t._s(t.order.order.grouped.shipping[n].label))])]),t._v(" "),r(d.a,{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.shipping[n].cost)))])])],1):t._e(),t._v(" "),t.order.order.grouped.totals&&t.order.order.grouped.totals[n].discount?r(_.a,{staticClass:"mt-0"},[r(d.a,[r("h5",[t._v("Discount")])]),t._v(" "),r(d.a,{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[n].discount)))])])],1):t._e()],1),t._v(" "),t.order.order.grouped.totals&&t.order.order.grouped.totals[n]?r(d.a,{attrs:{cols:"12",md:"6"}},[r(_.a,[r(d.a,[r("h5",[t._v("Sub Total")])]),t._v(" "),r(d.a,{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[n].sub_total)))])])],1),t._v(" "),r(_.a,{staticClass:"mt-0"},[r(d.a,[r("h5",[t._v("Tax Total")])]),t._v(" "),r(d.a,{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[n].tax)))])])],1),t._v(" "),r(_.a,{staticClass:"mt-0"},[r(d.a,[r("h5",[t._v("Total")])]),t._v(" "),r(d.a,{staticClass:"text-right"},[r("h5",[t._v(t._s(t._f("centsToDollars")(t.order.order.grouped.totals[n].total)))])])],1)],1):t._e()],1)],2)})),1):t._e()],1)],1):r("div",[t._v("\n    No order available.\n  ")])])}),[],!1,null,null,null);e.default=component.exports}}]);