(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{731:function(e,t,r){"use strict";r(33);t.a={email:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"Password must be at least 6 characters"}],phone:[function(e){return!!e||"Phone is required"},function(e){return e&&e.length>=10||"Phone must be valid"}],message:[function(e){return!!e||"Message is required"}],username:[function(e){return!!e||"Username is required"},function(e){return e&&e.length>2||"Username must be a least 3 characters"}],name:[function(e){return!!e||"Is required"}],title:[function(e){return!!e||"Is required"}]}},781:function(e,t,r){"use strict";r.r(t);var n=r(0),o=(r(93),r(17),r(3)),l=r(731),c=Object(o.b)({name:"FormsRecoverbyemail",setup:function(){var e=Object(o.m)(),t=e.$fire,r=e.$fireModule,c=e.$notify,m=e.$system,d=Object(o.q)(),f=Object(o.i)(!1),dialog=Object(o.i)(!1),v=Object(o.i)(!0),h=l.a,w=Object(o.i)(!1),x=Object(o.i)(null),form=Object(o.i)({email:"",password:""}),y=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.value=!0,e.next=3,x.value.validate();case 3:if(v.value=e.sent,!v.value){e.next=7;break}return e.next=7,O();case 7:f.value=!1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!form.value.email||!form.value.password){e.next=24;break}if(e.prev=1,null!==t.auth.currentUser){e.next=8;break}return c.show({text:"Error creating your account",color:"red"}),e.next=6,t.auth.createUserWithEmailAndPassword(form.value.email.trim().toLowerCase(),form.value.password);case 6:e.next=13;break;case 8:return e.next=10,r.auth.EmailAuthProvider.credential(form.value.email.trim().toLowerCase(),form.value.password);case 10:return n=e.sent,e.next=13,t.auth.currentUser.linkWithCredential(n).then((function(){t.analytics.logEvent("sign_up")})).catch((function(e){m.log({comp:"FormsRecoverbyemail",msg:"Error trying to link account",val:e})}));case 13:return c.show({text:"Successfully registered",color:"green"}),e.next=16,d.push("/");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),m.log({comp:"FormsRecoverbyemail",msg:"Error trying to register",val:e.t0}),c.show({text:"Error, try again",color:"error"});case 22:e.next=25;break;case 24:c.show({text:"Error, try again",color:"error"});case 25:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return{loading:f,valid:v,form:form,formEl:x,rules:h,validate:y,register:O,dialog:dialog,showPassword:w}}}),m=c,d=r(43),f=r(45),v=r.n(f),h=r(714),w=r(688),x=r(775),y=r(800),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-bottom-sheet",{attrs:{width:"500","max-width":"700"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("div",e._g(e._b({staticClass:"mt-9 text-center grey--text caption lighten-1"},"div",o,!1),n),[e._v("\n      Can't receive code?"),r("br"),e._v("Sign in through email.\n    ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("div",{staticClass:"white pa-10 rounded-t-xl rounded-b-0 elevation-13",staticStyle:{height:"67vh"}},[r("v-form",{ref:"formEl",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[r("v-text-field",{attrs:{rules:e.rules.email,label:"Email",autocomplete:"off",counter:"","prepend-inner-icon":"mdi-email",outlined:"","background-color":"#f8f9fa"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.rules.password,label:"Password",autocomplete:"off","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password","prepend-inner-icon":"mdi-lock",counter:"",required:"",outlined:"","background-color":"#f8f9fa"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("div",{staticClass:"text-center"},[r("v-btn",{staticClass:"text-center",attrs:{disabled:!e.valid,loading:e.loading,color:"success",elevation:"0",type:"submit"}},[e._v("\n          Login\n        ")])],1)],1)],1)])}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBottomSheet:h.a,VBtn:w.a,VForm:x.a,VTextField:y.a})},835:function(e,t,r){"use strict";r.r(t);var n=r(0),o=(r(93),r(17),r(3)),l=r(731),c=r(777),m=r.n(c),d=(r(778),Object(o.b)({name:"FormsRegisterbyphoneweb",components:{VuePhoneNumberInput:m.a},emits:["response"],props:{goTo:{type:String,default:"/"}},setup:function(e,t){var r=t.emit,c=Object(o.m)(),m=c.$fire,d=c.$fireModule,f=c.$notify,v=c.$system,h=c.$ttlStorage,w=Object(o.r)().dispatch,x=Object(o.q)(),y=Object(o.i)(!1),O=Object(o.i)(!0),k=Object(o.i)(null),j=l.a,C=Object(o.i)(null),form=Object(o.i)({phone:"",phoneNumber:null,phoneNumberFormatted:null,showOtpInput:!1,otpProvided:null}),E=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.value=!0,e.next=3,C.value.validate();case 3:if(O.value=e.sent,!O.value){e.next=7;break}return e.next=7,P();case 7:y.value=!1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!form.value.phone){e.next=16;break}return y.value=!0,e.prev=2,e.next=5,m.auth.signInWithPhoneNumber(form.value.phone.trim().toLowerCase(),k.value);case 5:window.confirmationResult=e.sent,form.value.showOtpInput=!0,e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),_(),e.t0&&e.t0.message?(f.show({text:e.t0.message,color:"error"}),r("response",{status:"error",message:e.t0.message})):(f.show({text:"Error registering phone number",color:"error"}),r("response",{status:"error",message:"Error registering phone number 1"})),v.log({comp:"FormsRegisterbyphoneweb",msg:"Registering phone number",val:e.t0});case 14:e.next=20;break;case 16:_(),f.show({text:"Error, try again",color:"error"}),r("response",{status:"error",message:"Error try again"}),console.log("STICKY: No phone number");case 20:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.value=!0,t.prev=1,t.next=4,window.confirmationResult.confirm(form.value.otpProvided);case 4:if(n=t.sent,h.set("onboardingComplete",!0),n.additionalUserInfo.isNewUser){t.next=14;break}return f.show({text:"Successfully logged in",color:"green"}),r("response",{status:"success",message:"Successfully logged in"}),t.next=11,w("user/updateField",{phone:form.value.phone.trim().toLowerCase()});case 11:e.goTo&&x.push(e.goTo),t.next=19;break;case 14:return form.value.showOtpInput=!1,f.show({text:"Successfully registered",color:"green"}),r("response",{status:"success",message:"Successfully registered"}),t.next=19,w("user/updateField",{phone:form.value.phone.trim().toLowerCase(),created_at:new Date});case 19:t.next=27;break;case 21:t.prev=21,t.t0=t.catch(1),_(),f.show({text:"Error with phone code",color:"error"}),r("response",{status:"error",message:"Error with phone code"}),v.log({comp:"FormsRegisterbyphoneweb",msg:"Registering phone code",val:t.t0});case 27:return t.prev=27,y.value=!1,form.value.showOtpInput=!1,t.finish(27);case 31:case"end":return t.stop()}}),t,null,[[1,21,27,31]])})));return function(){return t.apply(this,arguments)}}(),_=function(){k.value=new d.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(){console.log("WORKS")}})};return Object(o.f)((function(){_()})),{loading:y,valid:O,form:form,formEl:C,rules:j,updatePhoneNumber:function(e){form.value.phoneNumberFormatted=e.formattedNumber,form.value.phone=e.formattedNumber},validate:E,register:P,registerWithOTPCode:R}}})),f=d,v=r(43),h=r(45),w=r.n(h),x=r(688),y=r(726),O=r(266),k=r(775),j=r(800),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"formEl",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[e.form.showOtpInput?e._e():r("div",[r("VuePhoneNumberInput",{staticClass:"my-6 phoneNumberInput",attrs:{required:"",translations:{countrySelectorLabel:""}},on:{update:function(t){return e.updatePhoneNumber(t)}},model:{value:e.form.phoneNumberFormatted,callback:function(t){e.$set(e.form,"phoneNumberFormatted",t)},expression:"form.phoneNumberFormatted"}}),e._v(" "),r("div",{staticClass:"text-center mt-10"},[r("v-btn",{staticClass:"text-center",attrs:{disabled:!e.valid,loading:e.loading,color:"primary",elevation:"0",id:"recaptcha-container",type:"submit"}},[e._v("\n        Send Code\n      ")])],1)],1),e._v(" "),r("v-dialog",{attrs:{"max-width":"500"},model:{value:e.form.showOtpInput,callback:function(t){e.$set(e.form,"showOtpInput",t)},expression:"form.showOtpInput"}},[r("v-card",{staticClass:"elevation-0 pa-12 rounded-xl"},[r("ElementH3",{attrs:{text:"We sent you a SMS code",align:"center"}}),e._v(" "),r("v-text-field",{staticClass:"mt-5 mx-8",attrs:{label:"Code",placeholder:"Code",outlined:"","background-color":"#f8f9fa",max:"6",type:"number",oninput:"if(Number(this.value.length) > Number(this.max)) this.value = this.value.substring(0, Number(this.max));"},model:{value:e.form.otpProvided,callback:function(t){e.$set(e.form,"otpProvided",t)},expression:"form.otpProvided"}}),e._v(" "),r("div",{staticClass:"text-center"},[r("v-btn",{staticClass:"text-center",attrs:{loading:e.loading,color:"primary",elevation:"0",type:"submit"},on:{click:e.registerWithOTPCode}},[e._v("\n          Verify\n        ")]),e._v(" "),r("FormsRecoverbyemail")],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;w()(component,{ElementH3:r(380).default,FormsRecoverbyemail:r(781).default}),w()(component,{VBtn:x.a,VCard:y.a,VDialog:O.a,VForm:k.a,VTextField:j.a})}}]);