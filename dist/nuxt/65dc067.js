(window.webpackJsonp=window.webpackJsonp||[]).push([[125,70,74],{725:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f}));var r=n(732),c=n(4),o=Object(c.j)("v-card__actions"),l=Object(c.j)("v-card__subtitle"),d=Object(c.j)("v-card__text"),f=Object(c.j)("v-card__title");r.a},731:function(e,t,n){"use strict";n.r(t);var r=n(158),c={name:"ElementH1",props:{text:{type:String,default:function(){return""}},align:{type:String,default:"center"},prependIcon:{type:String,default:null}}},o=n(43),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{class:"text-"+e.align+" text-h1 text-md-h2 text-lg-h1",staticStyle:{"letter-spacing":"-2px !important"}},[e.prependIcon?n(r.a,[e._v("\n    "+e._s(e.prependIcon)+"\n  ")]):e._e(),e._v("\n  "+e._s(e.text)+"\n")],1)}),[],!1,null,null,null);t.default=component.exports},741:function(e,t,n){"use strict";n.r(t);var r={name:"ElementP",props:{text:{type:String,default:function(){return""}},align:{type:String,default:"center"}}},c=n(43),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{class:"text-"+e.align+" text-xl-body-1"},[e._v("\n  "+e._s(e.text)+"\n")])}),[],!1,null,null,null);t.default=component.exports},842:function(e,t,n){"use strict";n.r(t);var r=n(695),c=n(732),o=n(725),l=n(267),d=n(158),f=n(159),v=n(100),x=n(138),m=n(807),_=n(0),h=(n(16),n(3)),j=Object(h.b)({name:"UserActionsAddasfriendbtn",props:{user:{type:Object,default:function(){return{}}}},emits:["isFriend"],setup:function(e,t){var n=t.emit,r=Object(h.m)().$notify,c=Object(h.r)(),o=c.dispatch,l=c.state,d=Object(h.q)(),f=Object(h.i)(!1),dialog=Object(h.i)(!1),v=Object(h.a)((function(){return l.user.profile})),x=Object(h.i)(),m=function(){var e=Object(_.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.value){e.next=6;break}return e.next=3,o("user/search",{field:"securityPin",operator:"==",term:x.value,limit:1});case 3:if(!((t=e.sent).length>0)){e.next=6;break}return e.abrupt("return",t);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var t=Object(_.a)(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:if(c=t.sent){t.next=6;break}return r.show({text:"This PIN does not match",color:"error"}),t.abrupt("return");case 6:if(e.user.id===c[0].id){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,o("user/friends/add",{id:e.user.id,status:"pending"});case 10:if(!t.sent){t.next=22;break}return console.log("Add notification to: ",e.user.id),t.next=15,o("user/notifications/add",{uid:e.user.id,title:"New Friend Request",body:"@".concat(v.value.username," requested to be your friend."),type:"friendRequest",meta:{requestedBy:v.value.id}});case 15:return dialog.value=!1,t.next=18,d.push("/profile");case 18:r.show({text:"Success",color:"success"}),n("isFriend",!0),t.next=23;break;case 22:r.show({text:"Error, try again",color:"error"});case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{loading:f,dialog:dialog,pin:x,addFriendship:j}}}),y=j,O=n(43),component=Object(O.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(l.a,{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,c=t.attrs;return[n(f.a,e._g(e._b({staticClass:"borderButton rounded-lg mb-2"},"v-list-item",c,!1),r),[n(x.a,[n(d.a,[e._v("mdi-account-multiple-plus")])],1),e._v(" "),n(v.a,[n(v.c,[e._v("Add friend")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n(c.a,{staticClass:"rounded-xl pa-8"},[n("ElementH1",{attrs:{text:"Add friend"}}),e._v(" "),n("ElementP",{attrs:{text:"Enter in your friend's PIN"}}),e._v(" "),n(m.a,{attrs:{type:"text",label:"PIN",autocomplete:"off",required:""},model:{value:e.pin,callback:function(t){e.pin=t},expression:"pin"}}),e._v(" "),n(o.a,{staticClass:"justify-center"},[n(r.a,{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n        Cancel\n      ")]),e._v(" "),n(r.a,{staticClass:"elevation-0",attrs:{color:"primary"},on:{click:e.addFriendship}},[e._v("\n        Add Friend\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ElementH1:n(731).default,ElementP:n(741).default})}}]);