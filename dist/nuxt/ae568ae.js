(window.webpackJsonp=window.webpackJsonp||[]).push([[191],{1064:function(e,t,r){"use strict";var n=r(1065);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return d.apply(this,arguments)};var o=n(r(1066)),c=n(r(1068));function d(){return(d=(0,c.default)(o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.createElement("video"),n=new Promise((function(e,t){r.addEventListener("loadedmetadata",(function(){r.duration===1/0?(r.currentTime=Number.MAX_SAFE_INTEGER,r.ontimeupdate=function(){r.ontimeupdate=null,e(r.duration),r.currentTime=0}):e(r.duration)})),r.onerror=function(e){return t(e.target.error)}})),r.src="string"==typeof t||t instanceof String?t:window.URL.createObjectURL(t),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1065:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},1066:function(e,t,r){e.exports=r(1067)},1067:function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,desc){e[t]=desc.value},c="function"==typeof Symbol?Symbol:{},d=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function v(e,t,r,n){var c=t&&t.prototype instanceof x?t:x,d=Object.create(c.prototype),l=new k(n||[]);return o(d,"_invoke",{value:A(e,r,l)}),d}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=v;var y="suspendedStart",R="suspendedYield",w="executing",E="completed",O={};function x(){}function _(){}function L(){}var P={};f(P,d,(function(){return this}));var S=Object.getPrototypeOf,N=S&&S(S(C([])));N&&N!==r&&n.call(N,d)&&(P=N);var I=L.prototype=x.prototype=Object.create(P);function T(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function D(e,t){function r(o,c,d,l){var h=m(e[o],e,c);if("throw"!==h.type){var f=h.arg,v=f.value;return v&&"object"==typeof v&&n.call(v,"__await")?t.resolve(v.__await).then((function(e){r("next",e,d,l)}),(function(e){r("throw",e,d,l)})):t.resolve(v).then((function(e){f.value=e,d(f)}),(function(e){return r("throw",e,d,l)}))}l(h.arg)}var c;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return c=c?c.then(o,o):o()}})}function A(e,t,r){var n=y;return function(o,c){if(n===w)throw new Error("Generator is already running");if(n===E){if("throw"===o)throw c;return G()}for(r.method=o,r.arg=c;;){var d=r.delegate;if(d){var l=F(d,r);if(l){if(l===O)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===y)throw n=E,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=w;var h=m(e,t,r);if("normal"===h.type){if(n=r.done?E:R,h.arg===O)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(n=E,r.method="throw",r.arg=h.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),O;var c=m(o,e.iterator,r.arg);if("throw"===c.type)return r.method="throw",r.arg=c.arg,r.delegate=null,O;var d=c.arg;return d?d.done?(r[e.resultName]=d.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,O):d:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,O)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function C(e){if(e){var r=e[d];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:G}}function G(){return{value:t,done:!0}}return _.prototype=L,o(I,"constructor",{value:L,configurable:!0}),o(L,"constructor",{value:_,configurable:!0}),_.displayName=f(L,h,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,L):(e.__proto__=L,f(e,h,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},T(D.prototype),f(D.prototype,l,(function(){return this})),e.AsyncIterator=D,e.async=function(t,r,n,o,c){void 0===c&&(c=Promise);var d=new D(v(t,r,n,o),c);return e.isGeneratorFunction(r)?d:d.next().then((function(e){return e.done?e.value:d.next()}))},T(I),f(I,h,"Generator"),f(I,d,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var object=Object(e),t=[];for(var r in object)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in object)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return d.type="throw",d.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],d=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var l=n.call(c,"catchLoc"),h=n.call(c,"finallyLoc");if(l&&h){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,O):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var i=this.tryEntries.length-1;i>=0;--i){var t=this.tryEntries[i];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),j(t),O}},catch:function(e){for(var i=this.tryEntries.length-1;i>=0;--i){var t=this.tryEntries[i];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var n=r.arg;j(t)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),O}},e}(e.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},1068:function(e,t){function r(e,t,r,n,o,c,d){try{var l=e[c](d),h=l.value}catch(e){return void r(e)}l.done?t(h):Promise.resolve(h).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,c){var d=e.apply(t,n);function l(e){r(d,o,c,l,h,"next",e)}function h(e){r(d,o,c,l,h,"throw",e)}l(void 0)}))}}},1164:function(e,t,r){"use strict";r.r(t),r.d(t,"VoiceRecorderWeb",(function(){return y}));var n=r(55),o=r(1064),c=r.n(o);const d=()=>new Error("FAILED_TO_RECORD"),l=()=>new Error("RECORDING_HAS_NOT_STARTED"),h=()=>new Error("FAILED_TO_FETCH_RECORDING"),f=["audio/aac","audio/webm;codecs=opus","audio/mp4","audio/webm","audio/ogg;codecs=opus"],v=()=>new Promise((()=>{}));class m{constructor(){this.mediaRecorder=null,this.chunks=[],this.pendingResult=v()}static async canDeviceVoiceRecord(){var e;return null==(null===(e=null===navigator||void 0===navigator?void 0:navigator.mediaDevices)||void 0===e?void 0:e.getUserMedia)||null==m.getSupportedMimeType()?{value:!1}:{value:!0}}async startRecording(){if(null!=this.mediaRecorder)throw new Error("ALREADY_RECORDING");if(!(await m.canDeviceVoiceRecord()).value)throw new Error("DEVICE_CANNOT_VOICE_RECORD");if(!(await m.hasAudioRecordingPermission().catch((()=>({value:!0})))).value)throw new Error("MISSING_PERMISSION");return navigator.mediaDevices.getUserMedia({audio:!0}).then(this.onSuccessfullyStartedRecording.bind(this)).catch(this.onFailedToStartRecording.bind(this))}async stopRecording(){if(null==this.mediaRecorder)throw l();try{return this.mediaRecorder.stop(),this.mediaRecorder.stream.getTracks().forEach((track=>track.stop())),this.pendingResult}catch(e){throw h()}finally{this.prepareInstanceForNextOperation()}}static async hasAudioRecordingPermission(){return navigator.permissions.query({name:"microphone"}).then((e=>({value:"granted"===e.state}))).catch((()=>{throw new Error("COULD_NOT_QUERY_PERMISSION_STATUS")}))}static async requestAudioRecordingPermission(){return(await m.hasAudioRecordingPermission().catch((()=>({value:!1})))).value?{value:!0}:navigator.mediaDevices.getUserMedia({audio:!0}).then((()=>({value:!0}))).catch((()=>({value:!1})))}pauseRecording(){if(null==this.mediaRecorder)throw l();return"recording"===this.mediaRecorder.state?(this.mediaRecorder.pause(),Promise.resolve({value:!0})):Promise.resolve({value:!1})}resumeRecording(){if(null==this.mediaRecorder)throw l();return"paused"===this.mediaRecorder.state?(this.mediaRecorder.resume(),Promise.resolve({value:!0})):Promise.resolve({value:!1})}getCurrentStatus(){return null==this.mediaRecorder?Promise.resolve({status:"NONE"}):"recording"===this.mediaRecorder.state?Promise.resolve({status:"RECORDING"}):"paused"===this.mediaRecorder.state?Promise.resolve({status:"PAUSED"}):Promise.resolve({status:"NONE"})}static getSupportedMimeType(){if(null==(null===MediaRecorder||void 0===MediaRecorder?void 0:MediaRecorder.isTypeSupported))return null;const e=f.find((e=>MediaRecorder.isTypeSupported(e)));return null!=e?e:null}onSuccessfullyStartedRecording(e){return this.pendingResult=new Promise(((t,r)=>{this.mediaRecorder=new MediaRecorder(e),this.mediaRecorder.onerror=()=>{this.prepareInstanceForNextOperation(),r(d())},this.mediaRecorder.onstop=async()=>{const e=m.getSupportedMimeType();if(null==e)return this.prepareInstanceForNextOperation(),void r(h());const n=new Blob(this.chunks,{type:e});if(n.size<=0)return this.prepareInstanceForNextOperation(),void r(new Error("EMPTY_RECORDING"));const o=await m.blobToBase64(n),d=await c()(n);this.prepareInstanceForNextOperation(),t({value:{recordDataBase64:o,mimeType:e,msDuration:1e3*d}})},this.mediaRecorder.ondataavailable=e=>this.chunks.push(e.data),this.mediaRecorder.start()})),{value:!0}}onFailedToStartRecording(){throw this.prepareInstanceForNextOperation(),d()}static blobToBase64(e){return new Promise((t=>{const r=new FileReader;r.onloadend=()=>{const e=String(r.result),n=e.split("base64,"),o=n.length>1?n[1]:e;t(o.trim())},r.readAsDataURL(e)}))}prepareInstanceForNextOperation(){if(null!=this.mediaRecorder&&"recording"===this.mediaRecorder.state)try{this.mediaRecorder.stop()}catch(e){}this.pendingResult=v(),this.mediaRecorder=null,this.chunks=[]}}class y extends n.b{constructor(){super(...arguments),this.voiceRecorderInstance=new m}canDeviceVoiceRecord(){return m.canDeviceVoiceRecord()}hasAudioRecordingPermission(){return m.hasAudioRecordingPermission()}requestAudioRecordingPermission(){return m.requestAudioRecordingPermission()}startRecording(){return this.voiceRecorderInstance.startRecording()}stopRecording(){return this.voiceRecorderInstance.stopRecording()}pauseRecording(){return this.voiceRecorderInstance.pauseRecording()}resumeRecording(){return this.voiceRecorderInstance.resumeRecording()}getCurrentStatus(){return this.voiceRecorderInstance.getCurrentStatus()}}}}]);