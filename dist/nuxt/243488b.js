(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{738:function(e,t,r){"use strict";r(34);t.a={email:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"Password must be at least 6 characters"}],phone:[function(e){return!!e||"Phone is required"},function(e){return e&&e.length>=10||"Phone must be valid"}],message:[function(e){return!!e||"Message is required"}],username:[function(e){return!!e||"Username is required"},function(e){return e&&e.length>2||"Username must be a least 3 characters"}],name:[function(e){return!!e||"Is required"}],title:[function(e){return!!e||"Is required"}]}},791:function(e,t,r){"use strict";r.r(t);var n=r(722),o=r(695),l=r(784),c=r(807),m=r(0),d=(r(92),r(16),r(3)),f=r(738),v=Object(d.b)({name:"FormsRecoverbyemail",setup:function(){var e=Object(d.m)(),t=e.$fire,r=e.$fireModule,n=e.$notify,o=e.$system,l=Object(d.q)(),c=Object(d.i)(!1),dialog=Object(d.i)(!1),v=Object(d.i)(!0),h=f.a,w=Object(d.i)(!1),x=Object(d.i)(null),form=Object(d.i)({email:"",password:""}),y=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.value=!0,e.next=3,x.value.validate();case 3:if(v.value=e.sent,!v.value){e.next=7;break}return e.next=7,O();case 7:c.value=!1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!form.value.email||!form.value.password){e.next=24;break}if(e.prev=1,null!==t.auth.currentUser){e.next=8;break}return n.show({text:"Error creating your account",color:"red"}),e.next=6,t.auth.createUserWithEmailAndPassword(form.value.email.trim().toLowerCase(),form.value.password);case 6:e.next=13;break;case 8:return e.next=10,r.auth.EmailAuthProvider.credential(form.value.email.trim().toLowerCase(),form.value.password);case 10:return c=e.sent,e.next=13,t.auth.currentUser.linkWithCredential(c).then((function(){t.analytics.logEvent("sign_up")})).catch((function(e){o.log({comp:"FormsRecoverbyemail",msg:"Error trying to link account",val:e})}));case 13:return n.show({text:"Successfully registered",color:"green"}),e.next=16,l.push("/");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),o.log({comp:"FormsRecoverbyemail",msg:"Error trying to register",val:e.t0}),n.show({text:"Error, try again",color:"error"});case 22:e.next=25;break;case 24:n.show({text:"Error, try again",color:"error"});case 25:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return{loading:c,valid:v,form:form,formEl:x,rules:h,validate:y,register:O,dialog:dialog,showPassword:w}}}),h=v,w=r(43),component=Object(w.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(n.a,{attrs:{width:"500","max-width":"700"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("div",e._g(e._b({staticClass:"mt-9 text-center grey--text caption lighten-1"},"div",o,!1),n),[e._v("\n      Can't receive code?"),r("br"),e._v("Sign in through email.\n    ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("div",{staticClass:"white pa-10 rounded-t-xl rounded-b-0 elevation-13",staticStyle:{height:"67vh"}},[r(l.a,{ref:"formEl",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[r(c.a,{attrs:{rules:e.rules.email,label:"Email",autocomplete:"off",counter:"","prepend-inner-icon":"mdi-email",outlined:"","background-color":"#f8f9fa"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r(c.a,{attrs:{rules:e.rules.password,label:"Password",autocomplete:"off","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password","prepend-inner-icon":"mdi-lock",counter:"",required:"",outlined:"","background-color":"#f8f9fa"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("div",{staticClass:"text-center"},[r(o.a,{staticClass:"text-center",attrs:{disabled:!e.valid,loading:e.loading,color:"success",elevation:"0",type:"submit"}},[e._v("\n          Login\n        ")])],1)],1)],1)])}),[],!1,null,null,null);t.default=component.exports},843:function(e,t,r){"use strict";r.r(t);var n=r(695),o=r(732),l=r(267),c=r(784),m=r(807),d=r(0),f=(r(92),r(16),r(3)),v=r(738),h=r(786),w=r.n(h),x=(r(787),Object(f.b)({name:"FormsRegisterbyphoneweb",components:{VuePhoneNumberInput:w.a},emits:["response"],props:{goTo:{type:String,default:"/"}},setup:function(e,t){var r=t.emit,n=Object(f.m)(),o=n.$fire,l=n.$fireModule,c=n.$notify,m=n.$system,h=n.$ttlStorage,w=Object(f.r)().dispatch,x=Object(f.q)(),y=Object(f.i)(!1),O=Object(f.i)(!0),k=Object(f.i)(null),j=v.a,C=Object(f.i)(null),form=Object(f.i)({phone:"",phoneNumber:null,phoneNumberFormatted:null,showOtpInput:!1,otpProvided:null}),E=function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.value=!0,e.next=3,C.value.validate();case 3:if(O.value=e.sent,!O.value){e.next=7;break}return e.next=7,P();case 7:y.value=!1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!form.value.phone){e.next=16;break}return y.value=!0,e.prev=2,e.next=5,o.auth.signInWithPhoneNumber(form.value.phone.trim().toLowerCase(),k.value);case 5:window.confirmationResult=e.sent,form.value.showOtpInput=!0,e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),_(),e.t0&&e.t0.message?(c.show({text:e.t0.message,color:"error"}),r("response",{status:"error",message:e.t0.message})):(c.show({text:"Error registering phone number",color:"error"}),r("response",{status:"error",message:"Error registering phone number 1"})),m.log({comp:"FormsRegisterbyphoneweb",msg:"Registering phone number",val:e.t0});case 14:e.next=20;break;case 16:_(),c.show({text:"Error, try again",color:"error"}),r("response",{status:"error",message:"Error try again"}),console.log("STICKY: No phone number");case 20:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.value=!0,t.prev=1,t.next=4,window.confirmationResult.confirm(form.value.otpProvided);case 4:if(n=t.sent,h.set("onboardingComplete",!0),n.additionalUserInfo.isNewUser){t.next=14;break}return c.show({text:"Successfully logged in",color:"green"}),r("response",{status:"success",message:"Successfully logged in"}),t.next=11,w("user/updateField",{phone:form.value.phone.trim().toLowerCase()});case 11:e.goTo&&x.push(e.goTo),t.next=19;break;case 14:return form.value.showOtpInput=!1,c.show({text:"Successfully registered",color:"green"}),r("response",{status:"success",message:"Successfully registered"}),t.next=19,w("user/updateField",{phone:form.value.phone.trim().toLowerCase(),created_at:new Date});case 19:t.next=27;break;case 21:t.prev=21,t.t0=t.catch(1),_(),c.show({text:"Error with phone code",color:"error"}),r("response",{status:"error",message:"Error with phone code"}),m.log({comp:"FormsRegisterbyphoneweb",msg:"Registering phone code",val:t.t0});case 27:return t.prev=27,y.value=!1,form.value.showOtpInput=!1,t.finish(27);case 31:case"end":return t.stop()}}),t,null,[[1,21,27,31]])})));return function(){return t.apply(this,arguments)}}(),_=function(){k.value=new l.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(){console.log("WORKS")}})};return Object(f.f)((function(){_()})),{loading:y,valid:O,form:form,formEl:C,rules:j,updatePhoneNumber:function(e){form.value.phoneNumberFormatted=e.formattedNumber,form.value.phone=e.formattedNumber},validate:E,register:P,registerWithOTPCode:R}}})),y=x,O=r(43),component=Object(O.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(c.a,{ref:"formEl",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[e.form.showOtpInput?e._e():r("div",[r("VuePhoneNumberInput",{staticClass:"my-6 phoneNumberInput",attrs:{required:"",translations:{countrySelectorLabel:""}},on:{update:function(t){return e.updatePhoneNumber(t)}},model:{value:e.form.phoneNumberFormatted,callback:function(t){e.$set(e.form,"phoneNumberFormatted",t)},expression:"form.phoneNumberFormatted"}}),e._v(" "),r("div",{staticClass:"text-center mt-10"},[r(n.a,{staticClass:"text-center",attrs:{disabled:!e.valid,loading:e.loading,color:"primary",elevation:"0",id:"recaptcha-container",type:"submit"}},[e._v("\n        Send Code\n      ")])],1)],1),e._v(" "),r(l.a,{attrs:{"max-width":"500"},model:{value:e.form.showOtpInput,callback:function(t){e.$set(e.form,"showOtpInput",t)},expression:"form.showOtpInput"}},[r(o.a,{staticClass:"elevation-0 pa-12 rounded-xl"},[r("ElementH3",{attrs:{text:"We sent you a SMS code",align:"center"}}),e._v(" "),r(m.a,{staticClass:"mt-5 mx-8",attrs:{label:"Code",placeholder:"Code",outlined:"","background-color":"#f8f9fa",max:"6",type:"number",oninput:"if(Number(this.value.length) > Number(this.max)) this.value = this.value.substring(0, Number(this.max));"},model:{value:e.form.otpProvided,callback:function(t){e.$set(e.form,"otpProvided",t)},expression:"form.otpProvided"}}),e._v(" "),r("div",{staticClass:"text-center"},[r(n.a,{staticClass:"text-center",attrs:{loading:e.loading,color:"primary",elevation:"0",type:"submit"},on:{click:e.registerWithOTPCode}},[e._v("\n          Verify\n        ")]),e._v(" "),r("FormsRecoverbyemail")],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ElementH3:r(386).default,FormsRecoverbyemail:r(791).default})}}]);