(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{1155:function(e,t,n){"use strict";n.r(t);var r=n(695),c=n(718),o=n(753),l=n(784),d=n(737),v=n(717),m=n(74),f=n(0),_=(n(46),n(16),n(13)),h=n.n(_),x=n(3),k=n(738),O=Object(x.b)({name:"AdminFeedbackEdit",middleware:"admin",setup:function(){var e=Object(x.r)(),t=e.state,n=e.dispatch,r=Object(x.m)(),c=r.$helper,o=r.$notify,l=r.$system,d=Object(x.q)(),v=Object(x.p)(),m=Object(x.i)(!0),_=Object(x.i)(t.user.data.role.isVendor),O=Object(x.i)(!0),j=k.a,y=Object(x.i)(!0),w=Object(x.i)(null),form=Object(x.i)(h.a.cloneDeep(t.feedback.one));Object(x.n)(Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===v.value.params.id&&(form.value=h.a.cloneDeep(t.feedback.default)),!v.value.params.id){e.next=9;break}return m.value=!0,e.next=6,n("feedback/getOne",v.value.params.id).then((function(e){!1!==e&&(form.value=h.a.cloneDeep(e))}));case 6:if(!_.value||t.user.data.role.companyId===form.value.company.id){e.next=9;break}return d.push("/admin"),e.abrupt("return");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l.log({comp:"AdminFeedbackEdit",msg:"useFetch",val:e.t0});case 14:return e.prev=14,m.value=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])}))));var C=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.value.validate(),v.value.params.id){e.next=5;break}return e.next=4,c.validSlug("feedback/search",form.value.name);case 4:t=e.sent;case 5:if(!t){e.next=8;break}return e.next=8,A();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!form.value.name){e.next=13;break}return e.prev=1,e.next=4,n("feedback/add",form.value);case 4:o.show({text:"Success"}),d.push("/admin/feedback"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o.show({text:"Error, try again",color:"error"});case 11:e.next=14;break;case 13:o.show({text:"Error, try again",color:"error"});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("feedback/remove",form.value.slug);case 2:e.sent?(o.show({text:"Success"}),d.push("/admin/feedback")):o.show({text:"Error, try again 0",color:"error"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{loading:m,valid:O,rules:j,readonly:y,form:form,formEl:w,validate:C,remove:E}}}),j=O,y=n(43),component=Object(y.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(o.a,[n("AdminTitle"),e._v(" "),e.loading?n("div",[n(d.a,{staticClass:"mb-0",attrs:{indeterminate:""}})],1):n(l.a,{ref:"formEl",on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[n(v.a,[n(c.a,{attrs:{cols:"12",sm:"7"}},[n(v.a,[n(c.a,{attrs:{cols:"3"}},[e._v("\n            Like?\n          ")]),e._v(" "),n(c.a,[e._v("\n            "+e._s(e.form.like)+"\n          ")])],1),e._v(" "),n(v.a,[n(c.a,{attrs:{cols:"3"}},[e._v("\n            Comment:\n          ")]),e._v(" "),n(c.a,[e._v("\n            "+e._s(e.form.comment)+"\n          ")])],1),e._v(" "),n(v.a,[n(c.a,{attrs:{cols:"3"}},[e._v("\n            Company:\n          ")]),e._v(" "),n(c.a,[e._v("\n            "+e._s(e.form.company.id)+"\n          ")])],1),e._v(" "),n(v.a,[n(c.a,{attrs:{cols:"3"}},[e._v("\n            Product:\n          ")]),e._v(" "),n(c.a,[e._v("\n            "+e._s(e.form.product.id)+"\n          ")])],1),e._v(" "),n(v.a,[n(c.a,{attrs:{cols:"3"}},[e._v("\n            User:\n          ")]),e._v(" "),n(c.a,[n("div",[e._v(e._s(e.form.user.id))]),e._v(" "),n("div",[n("small",[e._v(e._s(e.form.ip))])])])],1)],1),e._v(" "),n(c.a,{staticClass:"pa-6 rounded-lg",staticStyle:{"background-color":"rgba(0, 0, 0, 0.03)"},attrs:{cols:"12",sm:"5"}},[e.form.created_at?n(m.a,{staticClass:"pa-4 mb-6 caption",attrs:{elevation:"0",outlined:"",rounded:""}},[e._v("\n          "+e._s(e.form.created_at)+"\n        ")]):e._e()],1)],1),e._v(" "),n(v.a,[n(c.a,{staticClass:"text-center"},[n(r.a,{staticClass:"text-center",attrs:{disabled:!e.valid,loading:e.loading,color:"success",elevation:"0"},on:{click:e.validate}},[e._v("\n          Save\n        ")]),e._v(" "),e.$route.params.id?n("span",[n(r.a,{staticClass:"text-center",attrs:{loading:e.loading,color:"danger",elevation:"0"},on:{click:e.remove}},[e._v("\n          Delete\n        ")])],1):e._e()],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AdminTitle:n(779).default})},738:function(e,t,n){"use strict";n(34);t.a={email:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"Password must be at least 6 characters"}],phone:[function(e){return!!e||"Phone is required"},function(e){return e&&e.length>=10||"Phone must be valid"}],message:[function(e){return!!e||"Message is required"}],username:[function(e){return!!e||"Username is required"},function(e){return e&&e.length>2||"Username must be a least 3 characters"}],name:[function(e){return!!e||"Is required"}],title:[function(e){return!!e||"Is required"}]}},751:function(e,t,n){var content=n(771);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("f5b1341a",content,!0,{sourceMap:!1})},767:function(e,t,n){"use strict";n.r(t);var r=n(695),c=n(158),o=n(257),l=n(159),d=n(100),v=n(914),m=n(0),f=(n(56),n(67),n(34),n(62),n(16),n(3)),_=Object(f.b)({name:"AdminNavComp",setup:function(){var e=Object(f.r)().state,t=Object(f.p)(),n=Object(f.a)((function(){return e.user})),r=Object(f.i)(n.value.data.role.isAdmin),c=Object(f.i)(n.value.data.role.isVendor),o=Object(f.i)(n.value.data.role.isDriver),l=Object(f.i)([{to:"/admin/users",label:"Users"},{to:"/admin/pages",label:"Pages"},{to:"/admin/posts",label:"Posts"}]),d=function(){var e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.value||(c.value?l.value=[{to:"/admin/products",label:"Products"},{to:"/admin/posts",label:"Posts"},{to:"/admin/shipping",label:"Shipping"},{to:"/admin/feedback",label:"Feedback"}]:o.value&&(l.value=[]));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var p=t.value.path;return"/admin"!==p&&"/admin/"!==p&&(!p.includes("/edit")&&!p.includes("/users"))};return Object(f.f)((function(){v(),d()})),{canAdd:v,navOptions:l,getRoute:function(){return t.value.fullPath.includes("edit")?t.value.fullPath.replace(t.value.params.id,""):"".concat(t.value.fullPath,"/edit")}}}}),h=_,x=n(43),component=Object(x.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.canAdd()?n(r.a,{staticClass:"mr-1 elevation-0",attrs:{to:e.getRoute(),color:"secondary"}},[e._v("\n    + Add\n  ")]):e._e(),e._v(" "),n(v.a,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,o=t.attrs;return[n(r.a,e._g(e._b({attrs:{color:"primary",dark:"",elevation:"0"}},"v-btn",o,!1),c),[e._v("\n        Content\n      ")])]}}])},[e._v(" "),n(o.a,e._l(e.navOptions,(function(t,r){return n(l.a,{key:r,attrs:{to:t.to,nuxt:""}},[n(d.a,[n(d.c,[e._v("\n            "+e._s(t.label)+"\n          ")])],1)],1)})),1)],1),e._v(" "),n(r.a,{staticClass:"elevation-0",on:{click:function(t){return e.$nuxt.refresh()}}},[n(c.a,[e._v("mdi-refresh")])],1)],1)}),[],!1,null,null,null);t.default=component.exports},770:function(e,t,n){"use strict";n(751)},771:function(e,t,n){var r=n(38)(!1);r.push([e.i,".v-breadcrumbs li{padding:0}",""]),e.exports=r},779:function(e,t,n){"use strict";n.r(t);var r=n(835),c=n(695),o=n(718),l=n(158),d=n(717),v=(n(34),n(62),n(49),{name:"AdminTitleComp",props:{title:{type:String,default:function(){return""}}},methods:{crumbs:function(){var e=this.$nuxt.$route.path.replace(/^\/|\/$/g,"").split("/");return 4===e.length&&e.splice(2,2),e},logout:function(){this.$store.dispatch("user/signOut")}}}),m=(n(770),n(43)),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(d.a,{staticClass:"ma-0 pa-0"},[n(o.a,{staticClass:"ma-0 pa-0"},[n(c.a,{staticClass:"px-1",attrs:{text:"",to:"/",small:""}},[n(l.a,[e._v("\n          mdi-arrow-left\n        ")]),e._v("\n        Back To App\n      ")],1)],1),e._v(" "),n(o.a,{staticClass:"ma-0 pa-0 text-right"},[n(c.a,{staticClass:"px-1",attrs:{text:"",small:""},on:{click:e.logout}},[e._v("\n        Logout\n        "),n(l.a,[e._v("\n          mdi-exit-to-app\n        ")])],1)],1)],1),e._v(" "),n(d.a,{staticClass:"align-center mb-3"},[n(o.a,{staticClass:"pa-0 ml-0",attrs:{cols:"5"}},[n("h4",{staticClass:"text-left text-xl-h5"},[n(r.a,{staticClass:"pa-2",staticStyle:{"text-transform":"capitalize"},attrs:{items:e.crumbs(),large:""},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return["admin"===r?n("nuxt-link",{attrs:{to:"/admin"}},[e._v(e._s(r))]):"edit"===r?n("span",[e._v(e._s(r))]):n("nuxt-link",{attrs:{to:"/admin/"+r}},[e._v(e._s(r))])]}},{key:"divider",fn:function(){return[n(l.a,[e._v("mdi-chevron-right")])]},proxy:!0}],null,!0)})],1)]),e._v(" "),n(o.a,{staticClass:"text-right"},[n("AdminNav")],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AdminNav:n(767).default})}}]);