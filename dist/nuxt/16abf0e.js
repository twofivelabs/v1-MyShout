(window.webpackJsonp=window.webpackJsonp||[]).push([[61,72,77],{1178:function(e,t,n){"use strict";n.r(t);var r=n(718),c=n(158),o=n(717),l=n(74),v=n(0),m=(n(29),n(16),n(13)),d=n.n(m),f=n(3),h=Object(f.b)({name:"CompanyLocations",props:{company:{type:Object,default:function(){return{}}}},setup:function(){var e=Object(f.r)().dispatch,t=Object(f.m)().$system,n=Object(f.p)(),r=Object(f.k)(!0,"pw5cGeP6aIzEZVJc+dhggQ=="),c=Object(f.k)([],"wMwz9ruAHIyjzRWJaiscVA==");Object(f.n)(Object(v.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,r.value=!0,o.next=4,e("companies/getLocations",n.value.params.id).then((function(e){!1!==e&&(c.value=d.a.cloneDeep(e))}));case 4:o.next=9;break;case 6:o.prev=6,o.t0=o.catch(0),t.log({comp:"CompanyLocations",msg:"useFetch",val:o.t0});case 9:return o.prev=9,r.value=!1,o.finish(9);case 12:case"end":return o.stop()}}),o,null,[[0,6,9,12]])}))));return{locations:c,openMap:function(e){var t=encodeURIComponent("".concat(e.address_1," ").concat(e.city," ").concat(e.province));window.open("https://www.google.com/maps/place/".concat(t),"_blank")}}}}),w=n(43),component=Object(w.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.locations&&e.locations.length>0?n("div",[n("ElementH5",{staticClass:"mt-8",attrs:{text:"Locations",align:"left"}}),e._v(" "),e._l(e.locations,(function(t,v){return n(l.a,{key:v,staticClass:"mt-1 pa-2 locations-list body-2",staticStyle:{"background-color":"transparent"},attrs:{elevation:"0",outlined:"",rounded:""}},[n(o.a,{staticClass:"align-center",on:{click:function(n){return e.openMap(t)}}},[n(r.a,{attrs:{cols:"1"}},[n(c.a,{on:{click:function(n){return e.openMap(t)}}},[e._v("\n          mdi-google-maps\n        ")])],1),e._v(" "),n(r.a,[n("div",[e._v(e._s(t.address_1))]),e._v(" "),n("div",[e._v(e._s(t.city)+" "+e._s(t.province))]),e._v(" "),n("ElementTraveltime",{attrs:{destination:t.address_1+" "+t.city+" "+t.province}})],1)],1)],1)}))],2):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ElementH5:n(756).default,ElementTraveltime:n(898).default})},756:function(e,t,n){"use strict";n.r(t);var r=n(158),c={name:"ElementH5",props:{text:{type:String,default:function(){return""}},align:{type:String,default:"center"},prependIcon:{type:String,default:null}}},o=n(43),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h5",{class:"text-"+e.align+" text-h6 text-md-h6 text-lg-h5",staticStyle:{"letter-spacing":"0px !important"}},[e.prependIcon?n(r.a,[e._v("\n    "+e._s(e.prependIcon)+"\n  ")]):e._e(),e._v("\n  "+e._s(e.text)+"\n")],1)}),[],!1,null,null,null);t.default=component.exports},898:function(e,t,n){"use strict";n.r(t);var r=n(0),c=(n(29),n(16),n(3)),o=Object(c.b)({name:"ElementTravelTime",props:{origin:{type:String,default:function(){return null}},destination:{type:String,default:function(){return null}}},setup:function(e){var t=Object(c.r)(),n=t.state,o=t.dispatch,l=Object(c.m)(),v=l.$helper,m=l.$system,d=Object(c.a)((function(){return n.user.data})),f=Object(c.a)((function(){return n.user.profile})),h=Object(c.i)(!1),w=Object(c.i)(""),_=Object(c.i)("");Object(c.f)(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.value=x(),!_.value||!e.destination){t.next=7;break}return t.next=4,j();case 4:if(t.t0=t.sent,!1!==t.t0){t.next=7;break}y();case 7:case"end":return t.stop()}}),t)}))));var x=function(){return origin.value?origin.value:"".concat(f.value.location.address_1," ").concat(f.value.location.city," ").concat(f.value.location.province," ").concat(f.value.location.postal)},y=function(){try{if(_.value){var t=new window.google.maps.DistanceMatrixService,n={origins:[_.value],destinations:[e.destination],travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1};t.getDistanceMatrix(n).then((function(e){w.value=e.rows[0].elements[0].duration.text,O(w.value)}))}}catch(e){m.log({comp:"ElementTravelTime",msg:"getTime",val:e})}},j=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o("admin/getOne",{adminPath:"UI/TravelTime",id:v.slugify("".concat(x(),"-").concat(e.destination))});case 3:if(!1!==(n=t.sent)){t.next=8;break}return t.abrupt("return",n);case 8:w.value=n.time;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),m.log({comp:"ElementTravelTime",msg:"getLocalTime",val:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(time){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o("admin/add",{adminPath:"UI/TravelTime",data:{title:"".concat(x(),"-").concat(e.destination),time:time}});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),m.log({comp:"ElementTravelTime",msg:"addLocalTime",val:t.t0});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return{user:d,profile:f,loading:h,duration:w}}}),l=o,v=n(43),component=Object(v.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.duration?n("div",{staticClass:"duration caption"},[e._v("\n  Travel: "+e._s(e.duration)+"\n")]):e._e()}),[],!1,null,null,null);t.default=component.exports}}]);